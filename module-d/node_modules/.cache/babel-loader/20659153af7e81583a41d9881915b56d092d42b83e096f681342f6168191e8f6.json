{"ast":null,"code":"var _jsxFileName = \"D:\\\\huro2\\\\es2023-HU-RO-traning-C2\\\\module-d\\\\src\\\\context\\\\OrderContext.js\",\n  _s = $RefreshSig$();\nimport { createContext, useMemo } from \"react\";\nimport { useLocalStorage } from \"../hooks/useLocalStorage\";\nimport * as PropTypes from \"prop-types\";\n\n/**\r\n * React context storing the order items\r\n * @type {React.Context<{addItem(item: Item), removeItem(index: number), items: Item[]}>}\r\n */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const OrderContext = /*#__PURE__*/createContext({\n  items: [],\n  addItem() {},\n  removeItem() {},\n  clearCart() {}\n});\n\n/**\r\n * Context provider for the order context\r\n * @param children\r\n * @returns {JSX.Element}\r\n * @constructor\r\n */\nexport function OrderContextProvider({\n  children\n}) {\n  _s();\n  const [rawItems, setRawItems] = useLocalStorage('order', '[]');\n  const items = useMemo(() => JSON.parse(rawItems), [rawItems]);\n  function addItem(item) {\n    setRawItems(JSON.stringify([...items, item]));\n  }\n  function removeItem(index) {\n    setRawItems(JSON.stringify(items.filter((_, idx) => idx !== index)));\n  }\n  function clearCart() {\n    setRawItems('[]');\n  }\n  return /*#__PURE__*/_jsxDEV(OrderContext.Provider, {\n    value: {\n      items,\n      addItem,\n      removeItem,\n      clearCart\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 12\n  }, this);\n}\n_s(OrderContextProvider, \"4upX1WKO77ZUI4hozvw5sGn6r60=\", false, function () {\n  return [useLocalStorage];\n});\n_c = OrderContextProvider;\nOrderContextProvider.propTypes = {\n  children: PropTypes.node\n};\nvar _c;\n$RefreshReg$(_c, \"OrderContextProvider\");","map":{"version":3,"names":["createContext","useMemo","useLocalStorage","PropTypes","jsxDEV","_jsxDEV","OrderContext","items","addItem","removeItem","clearCart","OrderContextProvider","children","_s","rawItems","setRawItems","JSON","parse","item","stringify","index","filter","_","idx","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","propTypes","node","$RefreshReg$"],"sources":["D:/huro2/es2023-HU-RO-traning-C2/module-d/src/context/OrderContext.js"],"sourcesContent":["import {createContext, useMemo} from \"react\";\r\nimport {useLocalStorage} from \"../hooks/useLocalStorage\";\r\nimport * as PropTypes from \"prop-types\";\r\n\r\n/**\r\n * React context storing the order items\r\n * @type {React.Context<{addItem(item: Item), removeItem(index: number), items: Item[]}>}\r\n */\r\nexport const OrderContext = createContext({\r\n    items: [], addItem() {}, removeItem() {}, clearCart(){}\r\n})\r\n\r\n/**\r\n * Context provider for the order context\r\n * @param children\r\n * @returns {JSX.Element}\r\n * @constructor\r\n */\r\nexport function OrderContextProvider({children}) {\r\n    const [rawItems, setRawItems] = useLocalStorage('order', '[]');\r\n\r\n    const items = useMemo(() => JSON.parse(rawItems), [rawItems]);\r\n\r\n    function addItem(item) {\r\n        setRawItems(JSON.stringify([...items, item]));\r\n    }\r\n\r\n    function removeItem(index) {\r\n        setRawItems(JSON.stringify(items.filter((_, idx) => idx !== index)))\r\n    }\r\n\r\n    function clearCart(){\r\n        setRawItems('[]');\r\n    }\r\n\r\n    return <OrderContext.Provider value={{items, addItem, removeItem, clearCart}}>\r\n        {children}\r\n    </OrderContext.Provider>\r\n}\r\n\r\nOrderContextProvider.propTypes = {children: PropTypes.node};"],"mappings":";;AAAA,SAAQA,aAAa,EAAEC,OAAO,QAAO,OAAO;AAC5C,SAAQC,eAAe,QAAO,0BAA0B;AACxD,OAAO,KAAKC,SAAS,MAAM,YAAY;;AAEvC;AACA;AACA;AACA;AAHA,SAAAC,MAAA,IAAAC,OAAA;AAIA,OAAO,MAAMC,YAAY,gBAAGN,aAAa,CAAC;EACtCO,KAAK,EAAE,EAAE;EAAEC,OAAOA,CAAA,EAAG,CAAC,CAAC;EAAEC,UAAUA,CAAA,EAAG,CAAC,CAAC;EAAEC,SAASA,CAAA,EAAE,CAAC;AAC1D,CAAC,CAAC;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASC,oBAAoBA,CAAC;EAACC;AAAQ,CAAC,EAAE;EAAAC,EAAA;EAC7C,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGb,eAAe,CAAC,OAAO,EAAE,IAAI,CAAC;EAE9D,MAAMK,KAAK,GAAGN,OAAO,CAAC,MAAMe,IAAI,CAACC,KAAK,CAACH,QAAQ,CAAC,EAAE,CAACA,QAAQ,CAAC,CAAC;EAE7D,SAASN,OAAOA,CAACU,IAAI,EAAE;IACnBH,WAAW,CAACC,IAAI,CAACG,SAAS,CAAC,CAAC,GAAGZ,KAAK,EAAEW,IAAI,CAAC,CAAC,CAAC;EACjD;EAEA,SAAST,UAAUA,CAACW,KAAK,EAAE;IACvBL,WAAW,CAACC,IAAI,CAACG,SAAS,CAACZ,KAAK,CAACc,MAAM,CAAC,CAACC,CAAC,EAAEC,GAAG,KAAKA,GAAG,KAAKH,KAAK,CAAC,CAAC,CAAC;EACxE;EAEA,SAASV,SAASA,CAAA,EAAE;IAChBK,WAAW,CAAC,IAAI,CAAC;EACrB;EAEA,oBAAOV,OAAA,CAACC,YAAY,CAACkB,QAAQ;IAACC,KAAK,EAAE;MAAClB,KAAK;MAAEC,OAAO;MAAEC,UAAU;MAAEC;IAAS,CAAE;IAAAE,QAAA,EACxEA;EAAQ;IAAAc,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACU,CAAC;AAC5B;AAAChB,EAAA,CApBeF,oBAAoB;EAAA,QACAT,eAAe;AAAA;AAAA4B,EAAA,GADnCnB,oBAAoB;AAsBpCA,oBAAoB,CAACoB,SAAS,GAAG;EAACnB,QAAQ,EAAET,SAAS,CAAC6B;AAAI,CAAC;AAAC,IAAAF,EAAA;AAAAG,YAAA,CAAAH,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}